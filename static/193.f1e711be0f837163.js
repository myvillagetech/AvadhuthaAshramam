"use strict";(self.webpackChunkwebpage=self.webpackChunkwebpage||[]).push([[193],{9193:(D,c,n)=>{n.r(c),n.d(c,{BikhshaModule:()=>_});var u=n(6895),d=n(6850),t=n(8256),m=n(5097);let k=(()=>{class i{constructor(e){this.httpDtaService=e}postBiksha(e){return this.httpDtaService.post("bikhsha-details",e)}getBiksha(){return this.httpDtaService.get("bikhsha-details")}updateBikshaDetails(e,s){return this.httpDtaService.put(`bikhsha-details/${e}`,s)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(m.L))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function p(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",1),t.NdJ("click",function(){const l=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.updateBikshaDetails(l._id))}),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"button",1),t.NdJ("click",function(){const l=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.deleteBikshaDetails(l._id))}),t._uU(11,"delete"),t.qZA()()()}if(2&i){const e=o.$implicit;t.xp6(2),t.Oqu(e.basePrice),t.xp6(2),t.Oqu(e.defaultCount),t.xp6(2),t.Oqu(e.description)}}let b=(()=>{class i{constructor(e){this.bikshaService=e}ngOnInit(){this.getBikshaDetails()}getBikshaDetails(){this.bikshaService.getBiksha().subscribe(e=>{console.log(e.bikhshaDetails),this.bikshaDetails=e.bikhshaDetails})}updateBikshaDetails(e){}deleteBikshaDetails(e){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(k))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-biksha-details"]],decls:17,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"p"),t._uU(1,"biksha-details"),t.qZA(),t.TgZ(2,"table")(3,"thead")(4,"tr")(5,"th"),t._uU(6,"Base Price"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Default Count"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Description"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Addons"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Actions"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,p,12,3,"tr",0),t.qZA()()),2&e&&(t.xp6(16),t.Q6J("ngForOf",s.bikshaDetails))},dependencies:[u.sg]}),i})();var a=n(433);function g(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",13)(2,"label"),t._uU(3," Item: "),t._UZ(4,"input",14),t.qZA(),t.TgZ(5,"label"),t._uU(6," Price: "),t._UZ(7,"input",15),t.qZA(),t.TgZ(8,"label"),t._uU(9," Description: "),t._UZ(10,"input",16),t.qZA(),t.TgZ(11,"button",12),t.NdJ("click",function(){const l=t.CHM(e).index,h=t.oxw();return t.KtG(h.deleteAddons(l))}),t._uU(12,"delete"),t.qZA()()()}if(2&i){const e=o.index;t.xp6(1),t.Q6J("formGroupName",e)}}const B=[{path:"",component:(()=>{class i{constructor(e,s){this.formBuilder=e,this.bikshaService=s}ngOnInit(){this.getBikshaFormDetails(),this.getBikshaDetails()}getBikshaFormDetails(){this.createBikshaForm=this.formBuilder.group({basePrice:["",[a.kI.required,a.kI.minLength(1)]],description:["",[a.kI.required,a.kI.minLength(1)]],defaultCount:["",[a.kI.required,a.kI.minLength(1)]],incrementalValue:["",[a.kI.required,a.kI.minLength(1)]],addons:this.formBuilder.array([])})}addons(){return this.formBuilder.group({item:["",a.kI.required],price:["",a.kI.required],description:["",a.kI.required]})}get addonsFormArray(){return this.createBikshaForm.get("addons")}addAddons(){this.createBikshaForm.get("addons").push(this.addons())}deleteAddons(e){this.createBikshaForm.get("addons").removeAt(e)}getBikshaDetails(){this.bikshaService.getBiksha().subscribe(e=>{console.log(e.bikhshaDetails),this.bikshaDetailsData=e.bikhshaDetails,this.bikshaDetails=e?.bikhshaDetails[0],this.addonsDetails=e?.bikhshaDetails[0]?.addons;for(let s=0;s<e.bikhshaDetails[0]?.addons.length;s++)this.addAddons();console.log(e.bikhshaDetails[0]?.addons[0]),this.createBikshaForm.controls.basePrice.setValue(this.bikshaDetails?.basePrice),this.createBikshaForm.controls.description.setValue(this.bikshaDetails?.description),this.createBikshaForm.controls.defaultCount.setValue(this.bikshaDetails.defaultCount),this.createBikshaForm.controls.incrementalValue.setValue(this.bikshaDetails.incrementalValue),this.createBikshaForm.controls.addons.setValue(e.bikhshaDetails[0]?.addons)})}onSubmit(e,s){"Submit"===s?(this.bikshaService.postBiksha(this.createBikshaForm.value).subscribe(r=>{console.log(r)}),console.log(s)):"update"===s&&(this.bikshaService.updateBikshaDetails(e,this.createBikshaForm.value).subscribe(),this.createBikshaForm.reset()),console.log(this.createBikshaForm.value),this.createBikshaForm.reset()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(a.qu),t.Y36(k))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-biksha"]],decls:23,vars:3,consts:[[3,"formGroup"],["for","basePrice"],["id","basePrice","formControlName","basePrice"],["for","description"],["id","description","formControlName","description"],["for","defaultCount"],["id","defaultCount","formControlName","defaultCount"],["for","incrementalValue"],["id","incrementalValue","formControlName","incrementalValue"],["formArrayName","addons"],[4,"ngFor","ngForOf"],["type","button",3,"click"],[3,"click"],[3,"formGroupName"],["type","text","formControlName","item"],["type","text","formControlName","price"],["type","text","formControlName","description"]],template:function(e,s){1&e&&(t.TgZ(0,"form",0)(1,"div")(2,"label",1),t._uU(3,"Base Price"),t.qZA(),t._UZ(4,"input",2),t.qZA(),t.TgZ(5,"div")(6,"label",3),t._uU(7,"Description"),t.qZA(),t._UZ(8,"input",4),t.qZA(),t.TgZ(9,"div")(10,"label",5),t._uU(11,"Default Count"),t.qZA(),t._UZ(12,"input",6),t.qZA(),t.TgZ(13,"div")(14,"label",7),t._uU(15,"Incremental Value"),t.qZA(),t._UZ(16,"input",8),t.qZA(),t.TgZ(17,"div",9),t.YNc(18,g,13,1,"div",10),t.TgZ(19,"button",11),t.NdJ("click",function(){return s.addAddons()}),t._uU(20,"Add Addons"),t.qZA()(),t.TgZ(21,"button",12),t.NdJ("click",function(){return s.onSubmit(s.bikshaDetails._id,(null==s.bikshaDetailsData?null:s.bikshaDetailsData.length)>0?"update":"Submit")}),t._uU(22),t.qZA()()),2&e&&(t.Q6J("formGroup",s.createBikshaForm),t.xp6(18),t.Q6J("ngForOf",null==s.addonsFormArray?null:s.addonsFormArray.controls),t.xp6(4),t.Oqu((null==s.bikshaDetailsData?null:s.bikshaDetailsData.length)>0?"update":"Submit"))},dependencies:[u.sg,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,a.x0,a.CE]}),i})()},{path:"biksha-details",component:b}];let f=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.Bz.forChild(B),d.Bz]}),i})(),_=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.ez,f,a.u5,a.UX]}),i})()}}]);