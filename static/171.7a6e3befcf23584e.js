"use strict";(self.webpackChunkwebpage=self.webpackChunkwebpage||[]).push([[171],{1171:(C,l,a)=>{a.r(l),a.d(l,{CreateRoomModule:()=>b});var s=a(6895),u=a(6850),t=a(433),o=a(8256),c=a(42);function d(r,m){if(1&r){const e=o.EpF();o.TgZ(0,"div")(1,"div",26)(2,"label"),o._uU(3,"Name : "),o._UZ(4,"input",27),o.qZA(),o.TgZ(5,"label"),o._uU(6,"Description : "),o._UZ(7,"input",28),o.qZA(),o.TgZ(8,"button",29),o.NdJ("click",function(){const Z=o.CHM(e).index,g=o.oxw();return o.KtG(g.deleteRoomAttributes(Z))}),o._uU(9,"delete"),o.qZA()()()}if(2&r){const e=m.index;o.xp6(1),o.Q6J("formGroupName",e)}}const p=[{path:"",component:(()=>{class r{constructor(e,i,n){this.formBuilder=e,this.roomsService=i,this.activatedRoute=n}ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{this.selectedroomId=e.rId,console.log(this.selectedroomId)}),this.createRoomFormDetails(),this.getRoomDetailsById()}createRoomFormDetails(){this.createRoomForm=this.formBuilder.group({roomType:["single",[t.kI.required]],price:["",[t.kI.required]],roomNumber:["",[t.kI.required]],airConditioner:["false",[t.kI.required]],capacity:["",[t.kI.required]],photos:[null,[t.kI.required]],roomAttributes:this.formBuilder.array([])})}getRoomDetailsById(){this.roomsService.getRoomDetailsById(this.selectedroomId).subscribe(e=>{console.log(e.data),this.createRoomForm.controls.roomType.setValue(e.data.roomType),this.createRoomForm.controls.price.setValue(e.data.price),this.createRoomForm.controls.airConditioner.setValue(e.data.airConditioner),this.createRoomForm.controls.capacity.setValue(e.data.capacity),this.createRoomForm.controls.roomNumber.setValue(e.data.roomNumber)})}addroomAttributes(){return this.formBuilder.group({name:["",t.kI.required],description:["",t.kI.required]})}get roomAttributesFormArray(){return this.createRoomForm.get("roomAttributes")}addRoomObject(){this.createRoomForm.get("roomAttributes").push(this.addroomAttributes())}onSubmit(){this.selectedroomId?this.roomsService.updateRoomDetails(this.selectedroomId,this.createRoomForm.value).subscribe(e=>{}):this.roomsService.postRoom(this.createRoomForm.value).subscribe(e=>{console.log(e)})}deleteRoomAttributes(e){this.createRoomForm.get("roomAttributes").removeAt(e)}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(t.qu),o.Y36(c.L),o.Y36(u.gz))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-create-room"]],decls:49,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],["for","roomType"],["id","roomType","formControlName","roomType",1,"form-control"],["value","SINGLE"],["value","DOUBLE"],["value","TRIPLE"],["value","HALL"],["for","roomNo"],["type","text","id","roomNo","formControlName","roomNumber",1,"form-control"],["for","price"],["type","text","id","price","formControlName","price",1,"form-control"],["for","aircondition"],[1,"form-check"],["type","radio","id","airconditionTrue","value","true","formControlName","airConditioner",1,"form-check-input"],["for","airconditionTrue",1,"form-check-label"],["type","radio","id","airconditionFalse","value","false","formControlName","airConditioner",1,"form-check-input"],["for","airconditionFalse",1,"form-check-label"],["for","capacity"],["type","text","id","capacity","formControlName","capacity",1,"form-control"],["for","photos"],["type","file","id","photos","formControlName","photos","multiple","",1,"form-control"],["formArrayName","roomAttributes"],[4,"ngFor","ngForOf"],["type","button",3,"click"],["type","submit",3,"disabled"],[3,"formGroupName"],["type","text","formControlName","name"],["type","text","formControlName","description"],[3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(1,"div",1)(2,"label",2),o._uU(3,"Room Type"),o.qZA(),o.TgZ(4,"select",3)(5,"option",4),o._uU(6,"Single"),o.qZA(),o.TgZ(7,"option",5),o._uU(8,"Double"),o.qZA(),o.TgZ(9,"option",6),o._uU(10,"Triple"),o.qZA(),o.TgZ(11,"option",7),o._uU(12,"Hall"),o.qZA()()(),o.TgZ(13,"div",1)(14,"label",8),o._uU(15,"Room Number"),o.qZA(),o._UZ(16,"input",9),o.qZA(),o.TgZ(17,"div",1)(18,"label",10),o._uU(19,"Price"),o.qZA(),o._UZ(20,"input",11),o.qZA(),o.TgZ(21,"div",1)(22,"label",12),o._uU(23,"Air Condition"),o.qZA(),o.TgZ(24,"div",13),o._UZ(25,"input",14),o.TgZ(26,"label",15),o._uU(27,"True"),o.qZA()(),o.TgZ(28,"div",13),o._UZ(29,"input",16),o.TgZ(30,"label",17),o._uU(31,"False"),o.qZA()(),o.TgZ(32,"div",1)(33,"label",18),o._uU(34,"Capacity"),o.qZA(),o._UZ(35,"input",19),o.qZA(),o.TgZ(36,"div",1)(37,"label",20),o._uU(38,"Photos"),o.qZA(),o._UZ(39,"input",21),o.qZA(),o.TgZ(40,"div",1)(41,"label"),o._uU(42,"roomAttributes"),o.qZA(),o.TgZ(43,"div",22),o.YNc(44,d,10,1,"div",23),o.qZA(),o.TgZ(45,"button",24),o.NdJ("click",function(){return i.addRoomObject()}),o._uU(46,"Add roomAttribute"),o.qZA()(),o.TgZ(47,"button",25),o._uU(48,"Submit"),o.qZA()()()),2&e&&(o.Q6J("formGroup",i.createRoomForm),o.xp6(44),o.Q6J("ngForOf",null==i.roomAttributesFormArray?null:i.roomAttributesFormArray.controls),o.xp6(3),o.Q6J("disabled",!i.createRoomForm.valid))},dependencies:[s.sg,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t._,t.JJ,t.JL,t.sg,t.u,t.x0,t.CE]}),r})()}];let f=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[u.Bz.forChild(p),u.Bz]}),r})(),b=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[s.ez,f,t.u5,t.UX]}),r})()}}]);